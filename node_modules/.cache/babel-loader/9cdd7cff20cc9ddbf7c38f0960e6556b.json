{"remainingRequest":"/Users/ningmeng/Desktop/vuewebpage/node_modules/babel-loader/lib/index.js!/Users/ningmeng/Desktop/vuewebpage/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ningmeng/Desktop/vuewebpage/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ningmeng/Desktop/vuewebpage/src/components/Menus.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ningmeng/Desktop/vuewebpage/src/components/Menus.vue","mtime":1567583628137},{"path":"/Users/ningmeng/Desktop/vuewebpage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ningmeng/Desktop/vuewebpage/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ningmeng/Desktop/vuewebpage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ningmeng/Desktop/vuewebpage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.match\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      menuTree: [{\n        id: \"/home\",\n        name: \"首页\",\n        order: 0\n      }, {\n        id: \"/hjgl\",\n        name: \"环境管理\",\n        order: 0,\n        son: [{\n          id: \"/hjgl\",\n          name: \"环境统计\",\n          order: 0\n        }, {\n          id: \"/hjxq\",\n          name: \"环境详情\",\n          order: 0\n        }, {\n          id: \"/hjbb\",\n          name: \"环境报表\",\n          order: 0\n        }]\n      }, {\n        id: \"/lwgl\",\n        name: \"劳务管理\",\n        order: 0,\n        son: [{\n          id: \"/lwtj\",\n          name: \"劳务统计\",\n          order: 0\n        }, {\n          id: \"/lwxq\",\n          name: \"劳务详情\",\n          order: 0\n        }, {\n          id: \"/lwbb\",\n          name: \"劳务报表\",\n          order: 0\n        }]\n      }, {\n        id: \"/aqtj\",\n        name: \"安全管理\",\n        order: 0,\n        son: [{\n          id: \"/aqtj\",\n          name: \"安全统计\",\n          order: 0\n        }, {\n          id: \"/aqxq\",\n          name: \"安全详情\",\n          order: 0\n        }, {\n          id: \"/aqbb\",\n          name: \"安全报表\",\n          order: 0\n        }]\n      }, {\n        id: \"/jdtj\",\n        name: \"进度管理\",\n        order: 0,\n        son: [{\n          id: \"/jdtj\",\n          name: \"进度统计\",\n          order: 0\n        }, {\n          id: \"/jdxq\",\n          name: \"进度详情\",\n          order: 0\n        }, {\n          id: \"/jdbb\",\n          name: \"进度报表\",\n          order: 0\n        }]\n      }, {\n        id: \"/zltj\",\n        name: \"质量管理\",\n        order: 0,\n        son: [{\n          id: \"/zltj\",\n          name: \"质量统计\",\n          order: 0\n        }, {\n          id: \"/zlxq\",\n          name: \"质量详情\",\n          order: 0\n        }, {\n          id: \"/zlbb\",\n          name: \"质量报表\",\n          order: 0\n        }]\n      }, {\n        id: \"/spjk\",\n        name: \"视频管理\",\n        order: 0,\n        son: [{\n          id: \"/spjk\",\n          name: \"视频监控\",\n          order: 0\n        }]\n      }, {\n        id: \"/sjjg\",\n        name: \"监管质量分析\",\n        order: 0,\n        son: [{\n          id: \"/sjjg\",\n          name: \"省级\",\n          order: 0\n        }, {\n          id: \"/shjjg\",\n          name: \"市级\",\n          order: 0\n        }, {\n          id: \"/qxjjg\",\n          name: \"区县级\",\n          order: 0\n        }, {\n          id: \"/qyjjg\",\n          name: \"企业\",\n          order: 0\n        }, {\n          id: \"/gdjjg\",\n          name: \"工地\",\n          order: 0\n        }]\n      }],\n      active: \"home\",\n      opened: []\n    };\n  },\n  created: function created() {\n    this.clearCache();\n  },\n  mounted: function mounted() {\n    this.initMenu(); // this.subscribe(this.EVENTS.UPDATE_MENU_ACTIVE, \"Menus\", this.monitorRouter);\n  },\n  beforeDestroy: function beforeDestroy() {// this.unsubscribe(this.EVENTS.UPDATE_MENU_ACTIVE, \"Menus\");\n  },\n  methods: {\n    initMenu: function initMenu() {\n      // let userInfo = this.getSession(this.KEYS.USER_INFO);\n      // if (userInfo !== null) {\n      //     this.post(\"SystemManagerController/getUserMenu\", {\n      //         id: userInfo.userID,\n      //     }).then((res) => {\n      //         this.menuTree = res.data;\n      //         this.initAuthMenu(res.data);\n      //     }).then(() => {\n      //         let hash = window.location.hash;\n      //         let path = \"\";\n      //         if (hash.indexOf(\"?\") >= 0) {\n      //             path = hash.match(/#\\/([\\S]*)\\?/)[1];\n      //         } else {\n      //             path = hash.match(/#\\/([\\S]*)\\??/)[1];\n      //         }\n      //         this.monitorRouter(path)\n      //     });\n      // }\n      var hash = window.location.hash;\n      var path = \"\";\n\n      if (hash.indexOf(\"?\") >= 0) {\n        path = hash.match(/#\\/([\\S]*)\\?/)[1];\n      } else {\n        path = hash.match(/#\\/([\\S]*)\\??/)[1];\n      }\n\n      this.monitorRouter(path);\n    },\n    //初始化用户菜单权限列表\n    initAuthMenu: function initAuthMenu(tree) {\n      var authMenu = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = tree[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var parent = _step.value;\n          authMenu.push(parent.id);\n\n          if (parent.son) {\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n              for (var _iterator2 = parent.son[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var son = _step2.value;\n                authMenu.push(son.id);\n              }\n            } catch (err) {\n              _didIteratorError2 = true;\n              _iteratorError2 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                  _iterator2.return();\n                }\n              } finally {\n                if (_didIteratorError2) {\n                  throw _iteratorError2;\n                }\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    },\n    //监听页面路由变化\n    //动态改变菜单展开的项目\n    //动态改变菜单展开的项目\n    monitorRouter: function monitorRouter(path) {\n      //展开菜单前先判断用户是否有访问权限\n      //遍历menuTree，如果path是二级菜单则需要展开当前path的父级\n      for (var p in this.menuTree) {\n        var parent = this.menuTree[p];\n\n        if (parent.id === \"/\".concat(path)) {\n          this.active = \"/\".concat(path);\n          this.opened = [];\n          return;\n        }\n\n        for (var s in parent.son) {\n          var son = parent.son[s];\n          var ext = son.id.split(\"-\");\n          ext = ext[0] + \"-\" + ext[1];\n\n          if (path.indexOf(ext) === 0) {\n            this.active = son.id;\n            this.opened = [parent.id];\n            return;\n          }\n        }\n      }\n    },\n    //刷新页面，从菜单栏进入列表时清除搜索条件缓存结果\n    clearCache: function clearCache() {}\n  }\n};",{"version":3,"sources":["Menus.vue"],"names":[],"mappings":"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","sourcesContent":["<style lang=\"less\">\n.ui-menus-list {\n  background: #3e3f41;\n\n  .el-menu-vertical-demo {\n    border-radius: 0;\n  }\n\n  .el-menu--horizontal.el-menu--dark .el-submenu .el-menu-item.is-active,\n  .el-menu-item.is-active {\n    color: #000;\n    background: #fff !important;\n  }\n  .el-menu-item,\n  .el-submenu__title {\n    color: #fff;\n    height: 51px;\n    line-height: 51px;\n  }\n  .el-menu-item:hover,\n  .el-submenu__title:hover {\n    background: #646567 !important;\n    color: #fff;\n  }\n\n  .el-submenu {\n    .el-menu-item {\n      background: #2b2b2b;\n    }\n  }\n}\n</style>\n<style scoped lang=\"less\">\n.ui-menus-list {\n  width: 230px;\n  position: absolute;\n  top: 60px;\n  bottom: 0;\n  left: 0;\n  overflow-y: auto;\n\n  .el-menu {\n    height: 100%;\n    background: #3e3f41;\n\n    .el-submenu {\n      border-top: 1px solid #252726;\n    }\n\n    .el-menu-item {\n      border-top: 1px solid #252726;\n    }\n  }\n}\n</style>\n\n<template>\n  <div class=\"ui-menus-list\">\n    <!--导航菜单-->\n    <el-menu\n      class=\"el-menu-vertical-demo\"\n      unique-opened\n      :default-active=\"active\"\n      :default-openeds=\"opened\"\n      :router=\"true\"\n    >\n      <!-- <template v-for=\"(pItem, p_index) in menuTree\"> -->\n      <template v-for=\"(pItem) in menuTree\">\n        <template v-if=\"pItem.son === undefined\">\n          <el-menu-item :index=\"pItem.id\" :key=\"pItem.id\" @click=\"clearCache\">{{pItem.name}}</el-menu-item>\n        </template>\n\n        <el-submenu v-if=\"pItem.son !== undefined\" :key=\"pItem.id\" :index=\"pItem.id\">\n          <template slot=\"title\">{{pItem.name}}</template>\n          <!-- <template v-for=\"(sItem, s_index) in pItem.son\"> -->\n          <template v-for=\"(sItem) in pItem.son\">\n            <el-menu-item :index=\"sItem.id\" :key=\"sItem.id\" @click=\"clearCache\">{{sItem.name}}</el-menu-item>\n          </template>\n        </el-submenu>\n      </template>\n    </el-menu>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      menuTree: [\n        { id: \"/home\", name: \"首页\", order: 0 },\n        {\n          id: \"/hjgl\",\n          name: \"环境管理\",\n          order: 0,\n          son: [\n            { id: \"/hjgl\", name: \"环境统计\", order: 0 },\n            { id: \"/hjxq\", name: \"环境详情\", order: 0 },\n            { id: \"/hjbb\", name: \"环境报表\", order: 0 }\n          ]\n        },\n        {\n          id: \"/lwgl\",\n          name: \"劳务管理\",\n          order: 0,\n          son: [\n            { id: \"/lwtj\", name: \"劳务统计\", order: 0 },\n            { id: \"/lwxq\", name: \"劳务详情\", order: 0 },\n            { id: \"/lwbb\", name: \"劳务报表\", order: 0 }\n          ]\n        },\n        {\n          id: \"/aqtj\",\n          name: \"安全管理\",\n          order: 0,\n          son: [\n            { id: \"/aqtj\", name: \"安全统计\", order: 0 },\n            { id: \"/aqxq\", name: \"安全详情\", order: 0 },\n            { id: \"/aqbb\", name: \"安全报表\", order: 0 }\n          ]\n        },\n        {\n          id: \"/jdtj\",\n          name: \"进度管理\",\n          order: 0,\n          son: [\n            { id: \"/jdtj\", name: \"进度统计\", order: 0 },\n            { id: \"/jdxq\", name: \"进度详情\", order: 0 },\n            { id: \"/jdbb\", name: \"进度报表\", order: 0 }\n          ]\n        },\n        {\n          id: \"/zltj\",\n          name: \"质量管理\",\n          order: 0,\n          son: [\n            { id: \"/zltj\", name: \"质量统计\", order: 0 },\n            { id: \"/zlxq\", name: \"质量详情\", order: 0 },\n            { id: \"/zlbb\", name: \"质量报表\", order: 0 }\n          ]\n        },\n        {\n          id: \"/spjk\",\n          name: \"视频管理\",\n          order: 0,\n          son: [{ id: \"/spjk\", name: \"视频监控\", order: 0 }]\n        },\n        {\n          id: \"/sjjg\",\n          name: \"监管质量分析\",\n          order: 0,\n          son: [\n            { id: \"/sjjg\", name: \"省级\", order: 0 },\n            { id: \"/shjjg\", name: \"市级\", order: 0 },\n            { id: \"/qxjjg\", name: \"区县级\", order: 0 },\n            { id: \"/qyjjg\", name: \"企业\", order: 0 },\n            { id: \"/gdjjg\", name: \"工地\", order: 0 }\n          ]\n        }\n      ],\n      active: \"home\",\n      opened: []\n    };\n  },\n\n  created() {\n    this.clearCache();\n  },\n\n  mounted() {\n    this.initMenu();\n    // this.subscribe(this.EVENTS.UPDATE_MENU_ACTIVE, \"Menus\", this.monitorRouter);\n  },\n\n  beforeDestroy() {\n    // this.unsubscribe(this.EVENTS.UPDATE_MENU_ACTIVE, \"Menus\");\n  },\n\n  methods: {\n    initMenu() {\n      // let userInfo = this.getSession(this.KEYS.USER_INFO);\n      // if (userInfo !== null) {\n      //     this.post(\"SystemManagerController/getUserMenu\", {\n      //         id: userInfo.userID,\n      //     }).then((res) => {\n      //         this.menuTree = res.data;\n      //         this.initAuthMenu(res.data);\n      //     }).then(() => {\n      //         let hash = window.location.hash;\n      //         let path = \"\";\n      //         if (hash.indexOf(\"?\") >= 0) {\n      //             path = hash.match(/#\\/([\\S]*)\\?/)[1];\n      //         } else {\n      //             path = hash.match(/#\\/([\\S]*)\\??/)[1];\n      //         }\n      //         this.monitorRouter(path)\n      //     });\n      // }\n      let hash = window.location.hash;\n      let path = \"\";\n      if (hash.indexOf(\"?\") >= 0) {\n        path = hash.match(/#\\/([\\S]*)\\?/)[1];\n      } else {\n        path = hash.match(/#\\/([\\S]*)\\??/)[1];\n      }\n      this.monitorRouter(path);\n    },\n\n    //初始化用户菜单权限列表\n    initAuthMenu(tree) {\n      let authMenu = [];\n      for (let parent of tree) {\n        authMenu.push(parent.id);\n        if (parent.son) {\n          for (let son of parent.son) {\n            authMenu.push(son.id);\n          }\n        }\n      }\n    },\n\n    //监听页面路由变化\n    //动态改变菜单展开的项目\n    //动态改变菜单展开的项目\n    monitorRouter(path) {\n      //展开菜单前先判断用户是否有访问权限\n      //遍历menuTree，如果path是二级菜单则需要展开当前path的父级\n      for (let p in this.menuTree) {\n        let parent = this.menuTree[p];\n        if (parent.id === `/${path}`) {\n          this.active = `/${path}`;\n          this.opened = [];\n          return;\n        }\n        for (let s in parent.son) {\n          let son = parent.son[s];\n          let ext = son.id.split(\"-\");\n          ext = ext[0] + \"-\" + ext[1];\n          if (path.indexOf(ext) === 0) {\n            this.active = son.id;\n            this.opened = [parent.id];\n            return;\n          }\n        }\n      }\n    },\n\n    //刷新页面，从菜单栏进入列表时清除搜索条件缓存结果\n    clearCache() {}\n  }\n};\n</script>\n"],"sourceRoot":"src/components"}]}